<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary_large_image" /><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Modern Python part 1 - start a project with pyenv &amp; poetry | Lost in Datation</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="Modern Python part 1 - start a project with pyenv &amp; poetry" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Let’s the poetry begin…" />
<meta property="og:description" content="Let’s the poetry begin…" />
<link rel="canonical" href="https://fbraza.github.io/BrazLog/python/devops/2021/06/09/modern-python-part1.html" />
<meta property="og:url" content="https://fbraza.github.io/BrazLog/python/devops/2021/06/09/modern-python-part1.html" />
<meta property="og:site_name" content="Lost in Datation" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-06-09T00:00:00-05:00" />
<script type="application/ld+json">
{"url":"https://fbraza.github.io/BrazLog/python/devops/2021/06/09/modern-python-part1.html","@type":"BlogPosting","headline":"Modern Python part 1 - start a project with pyenv &amp; poetry","dateModified":"2021-06-09T00:00:00-05:00","datePublished":"2021-06-09T00:00:00-05:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://fbraza.github.io/BrazLog/python/devops/2021/06/09/modern-python-part1.html"},"description":"Let’s the poetry begin…","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/BrazLog/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://fbraza.github.io/BrazLog/feed.xml" title="Lost in Datation" /><link rel="shortcut icon" type="image/x-icon" href="/BrazLog/images/favicon.ico"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Primer/15.2.0/primer.css" integrity="sha512-xTz2ys4coGAOz8vuV1NcQBkgVmKhsSEtjbqyMJbBHRplFuvKIUo6xhLHpAyPt9mfR6twHJgn9OgVLuqOvjeBhg==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />

<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/BrazLog/">Lost in Datation</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/BrazLog/about/">About Me</a><a class="page-link" href="/BrazLog/search/">Search</a><a class="page-link" href="/BrazLog/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Modern Python part 1 - start a project with pyenv &amp; poetry</h1><p class="page-description">Let's the poetry begin...</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2021-06-09T00:00:00-05:00" itemprop="datePublished">
        Jun 9, 2021
      </time>
       • <span class="read-time" title="Estimated read time">
    
    
      10 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/BrazLog/categories/#Python">Python</a>
        &nbsp;
      
        <a class="category-tags-link" href="/BrazLog/categories/#DevOps">DevOps</a>
        
      
      </p>
    

    </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>When learning a programming language, the focus is essentially on understanding the syntax, the code style, and the underlying concepts. With time, you become sufficiently comfortable with the language and you start writing programs solving new exciting problems.</p>

<p>However, when you need to move towards this step, there is an aspect that one might have underestimated which is how to build the right environment. An environment that enforces good software engineering practices, improves productivity and facilitates collaboration. Packaging and tooling with Python is often described as cumbersome and challenging. In this regard, several open-source projects emerged in the last years and aim at facilitating the management of Python packages along your working projects. We are going to see here how to use two of them: <a href="https://github.com/pyenv/pyenv">Pyenv</a>, to manage and install different Python versions, and <a href="https://python-poetry.org/">Poetry</a>, to manage your packages and virtual environments. Combined or used individually, they help you to establish a productive environment.</p>

<p>This article is the first one from a series of three in which we share some best practices.</p>

<ul>
  <li>Part 1: <a href="https://fbraza.github.io/BrazLog/python/devops/2021/06/09/modern-python-part1.html">project initialization with pyenv and poetry</a></li>
  <li>Part 2: <a href="https://fbraza.github.io/BrazLog/python/devops/2021/06/24/modern-python-part2.html">unit testing and commit enforcement</a></li>
  <li>Part 3: CI pipeline with GitHub Actions and publication on PiPy</li>
</ul>

<h2 id="pre-requisites">Pre-requisites</h2>

<h3 id="pyenv-installation"><code class="language-plaintext highlighter-rouge">pyenv</code> installation</h3>

<p>To install <code class="language-plaintext highlighter-rouge">pyenv</code> you require some OS-specific dependencies. These are needed as <code class="language-plaintext highlighter-rouge">pyenv</code> installs Python by building from source. For <strong>Ubuntu/Debian</strong> be sure to have the following packages installed:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get <span class="nb">install</span> <span class="nt">-y</span> make build-essential libssl-dev zlib1g-dev <span class="se">\</span>
libbz2-dev libreadline-dev libsqlite3-dev wget curl llvm libncurses5-dev <span class="se">\</span>
libncursesw5-dev xz-utils tk-dev libffi-dev liblzma-dev python-openssl
</code></pre></div></div>

<p>To know the required dependencies on your OS go read this <a href="https://github.com/pyenv/pyenv/wiki#suggested-build-environment">documentation</a>. Once the dependencies are installed you can now install <code class="language-plaintext highlighter-rouge">pyenv</code>. For this, I recommend using <a href="https://github.com/pyenv/pyenv-installer">pyenv-installer</a> that automates the process.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl https://pyenv.run | bash
</code></pre></div></div>

<p>From there on, you can install on your system any versions of Python you wish. You can use the following command to all versions and flavors of Python available:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pyenv <span class="nb">install</span> <span class="nt">--list</span>
</code></pre></div></div>

<p>In our case we are going to install the classical CPython in versions <code class="language-plaintext highlighter-rouge">3.7.10</code> , <code class="language-plaintext highlighter-rouge">3.8.7</code> , <code class="language-plaintext highlighter-rouge">3.9.2</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pyenv <span class="nb">install </span>3.7.10
Downloading Python-3.7.10.tar.xz...
-&gt; https://www.python.org/ftp/python/3.7.10/Python-3.7.10.tar.xz
Installing Python-3.7.10...
Installed Python-3.7.10 to /home/fbraza/.pyenv/versions/3.7.10
</code></pre></div></div>

<p>Once the versions are installed you can see them by running:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pyenv versions
<span class="k">*</span> system
  3.7.10
  3.8.7
  3.9.2
</code></pre></div></div>

<p>You can see that <code class="language-plaintext highlighter-rouge">pyenv</code> identified recently installed Python versions and also the one installed by default on your system. The <code class="language-plaintext highlighter-rouge">*</code> before <code class="language-plaintext highlighter-rouge">system</code> means that the global version used now is the system version. <code class="language-plaintext highlighter-rouge">pyenv</code> permits to manage Python versions at different levels: globally and locally. Let’s say we are going to set version <code class="language-plaintext highlighter-rouge">3.7.10</code> as our global version.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pyenv global 3.7.10
</code></pre></div></div>

<p>Let’s list our version again:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pyenv versions
  system
<span class="k">*</span> 3.7.10 <span class="o">(</span><span class="nb">set </span>by /home/&lt;username&gt;/.pyenv/version<span class="o">)</span>
  3.8.7
  3.9.2
</code></pre></div></div>

<p>You can see that <code class="language-plaintext highlighter-rouge">pyenv</code> sets <code class="language-plaintext highlighter-rouge">3.7.10</code> as our global Python version. This will not alter the operations that require the use of the system version. The path you can read between parenthesis corresponds to the path that points to the required Python version. How does this work? Briefly, <code class="language-plaintext highlighter-rouge">pyenv</code> captures Python commands using executables injected into your <code class="language-plaintext highlighter-rouge">PATH</code>. Then it determines which Python version you need to use, and passes the commands to the correct Python installation. Feel free to read the complete <a href="https://github.com/pyenv/pyenv">documentation</a> to better understand the functionalities and possibilities offered by <code class="language-plaintext highlighter-rouge">pyenv</code>.</p>

<blockquote>
  <p>Note: Don’t be confused by the semantic here. Change the global version will not affect your system version. The system version corresponds to the version used by your OS to accomplish specific tasks or run background processes that depend on this specific Python version. Do not switch the system version to another one or you may face several issues with your OS! This version is usually updated along with your OS. The global version is just the version that <code class="language-plaintext highlighter-rouge">pyenv</code> will use to execute your Python commands / programs globally.</p>
</blockquote>

<h3 id="poetry-installation"><code class="language-plaintext highlighter-rouge">poetry</code> installation</h3>

<p>Poetry allows you to efficiently manage dependencies and packages in Python. It has a similar role as <code class="language-plaintext highlighter-rouge">setup.py</code> or <a href="https://pypi.org/project/pipenv/">pipenv</a>, but offers more flexibility and functionalities. You can declare the libraries your project depends on in a <code class="language-plaintext highlighter-rouge">pyproject.toml</code> file. <code class="language-plaintext highlighter-rouge">poetry</code> will then install or update them on demand. Additionally this tools allows you to encapsulate your working project into isolated environments. Finally, you can use <code class="language-plaintext highlighter-rouge">poetry</code> to directly publish your package on <a href="https://pypi.org/">Pypi</a>.</p>

<p>As a last pre-requisite we are going to install <code class="language-plaintext highlighter-rouge">poetry</code> by running the following command:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">-sSL</span> https://raw.githubusercontent.com/python-poetry/poetry/master/get-poetry.py | python -
</code></pre></div></div>

<h2 id="project-creation">Project creation</h2>

<p>We are going to see how to create a project and isolate it inside a Python environment using <code class="language-plaintext highlighter-rouge">pyenv</code> and <code class="language-plaintext highlighter-rouge">poetry</code>.</p>

<h3 id="setting-the-python-version-with-pyenv">Setting the Python version with <code class="language-plaintext highlighter-rouge">Pyenv</code></h3>

<p>Let’s first create a directory named <code class="language-plaintext highlighter-rouge">my_awesome_project</code> and move inside:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">mkdir </span>my_awesome_project <span class="o">&amp;&amp;</span> <span class="nb">cd</span> <span class="nv">$_</span>
</code></pre></div></div>

<p>Once inside, set the local Python version we are going to use (we are going to use Python 3.8.7). This will prompt <code class="language-plaintext highlighter-rouge">poetry</code> to use the local version of Python defined by <code class="language-plaintext highlighter-rouge">pyenv</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pyenv <span class="nb">local </span>3.8.7
</code></pre></div></div>

<p>This creates a <code class="language-plaintext highlighter-rouge">.python-version</code> file inside our project. This file will be read by <code class="language-plaintext highlighter-rouge">pyenv</code> and prompts it to set the defined local Python version. Consequently every directory or file created down this point will depend on the local Python version and not the global one.</p>

<h3 id="create-your-project-with-poetry">Create your project with <code class="language-plaintext highlighter-rouge">poetry</code></h3>

<p>Poetry proposes a robust CLI allowing you to create, configure and update your Python project and dependencies. To create your Python project use the following command:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>poetry new &lt;project_name&gt;
</code></pre></div></div>

<p>This command generates a default project scaffold. The content of our new project is the following:</p>

<pre><code class="language-none">.
├── &lt;project_name&gt;
│   └── __init__.py
├── pyproject.toml
├── README.rst
└── tests
    ├── __init__.py
    └── test_summarize_dataframe.py
</code></pre>

<p>Notice the <code class="language-plaintext highlighter-rouge">pyproject.toml</code>. This is where we define everything from our project’s metadata, dependencies, scripts, and more. If you’re familiar with Node.js, consider the <code class="language-plaintext highlighter-rouge">pyproject.toml</code> as an equivalent of the Node.js <code class="language-plaintext highlighter-rouge">package.json</code>.</p>

<div class="language-toml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">[tool.poetry]</span>
<span class="py">name</span> <span class="p">=</span> <span class="s">"your_project_name"</span>
<span class="py">version</span> <span class="p">=</span> <span class="s">"0.1.0"</span>
<span class="py">description</span> <span class="p">=</span> <span class="s">""</span>
<span class="py">authors</span> <span class="p">=</span> <span class="p">[</span><span class="s">"&lt;username&gt; &lt;email address&gt;"</span><span class="p">]</span>

<span class="nn">[tool.poetry.dependencies]</span>
<span class="py">python</span> <span class="p">=</span> <span class="s">"^3.8"</span>

<span class="nn">[tool.poetry.dev-dependencies]</span>
<span class="py">pytest</span> <span class="p">=</span> <span class="s">"^5.2"</span>

<span class="nn">[build-system]</span>
<span class="py">requires</span> <span class="p">=</span> <span class="nn">["poetry-core&gt;=1.0.0"]</span>
<span class="py">build-backend</span> <span class="p">=</span> <span class="s">"poetry.core.masonry.api"</span>
</code></pre></div></div>

<p>We can see several entries in our default<code class="language-plaintext highlighter-rouge">pyproject.toml</code> file.</p>

<ul>
  <li><strong><code class="language-plaintext highlighter-rouge">[tool.poetry]</code></strong>: This section contains metadata about our package. You can put there the package name, a short description, author’s details, the version of your project, and so on. All details here are optional but will be required if you decided to publish the package on <a href="https://pypi.org/">Pypi</a>.</li>
  <li><strong><code class="language-plaintext highlighter-rouge">[tool.poetry.dependencies]</code></strong>: This section contains all required dependencies for our package. You can specify specific version numbers for these packages (<code class="language-plaintext highlighter-rouge">packageX = "1.0.0"</code>) or use symbols. The version of Python we want the project to use is defined here as well. In our case <code class="language-plaintext highlighter-rouge">python = "^3.8"</code> specifies the <strong>minimum</strong> version required to run our app. Here this is Python 3.8 and this has been based on the version of our local version defined with <code class="language-plaintext highlighter-rouge">pyenv</code>.</li>
  <li><strong><code class="language-plaintext highlighter-rouge">[tool.poetry.dev-dependencies]</code></strong>: This section contains all developer dependencies which are packages needed to work and iterate on this project. Nevertheless, these dependencies are not required to run the app and will not be downloaded when building the package.</li>
  <li><strong><code class="language-plaintext highlighter-rouge">[build-system]</code></strong>: Do not touch this section unless you updated the version of <code class="language-plaintext highlighter-rouge">poetry</code>.</li>
</ul>

<blockquote>
  <p>Note: you can see the full list of available entries for the <code class="language-plaintext highlighter-rouge">pyproject.toml</code> file <a href="https://python-poetry.org/docs/pyproject/">here</a></p>
</blockquote>

<h3 id="install-and-activate-the-virtual-environment">Install and activate the virtual environment</h3>

<p>Here you have two approaches: whether you know in advance all dependencies you need and you can directly alter the <code class="language-plaintext highlighter-rouge">.toml</code> file accordingly or you decide to add later on when needed. In our example, we are going to add progressively our dependencies while writing code. Consequently, we just need to initialize the project and create the virtual environment. To do this run the command:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>poetry <span class="nb">install
</span>Creating virtualenv summarize-dataframe-SO-g_7pj-py3.8 <span class="k">in</span> ~/.cache/pypoetry/virtualenvs
Updating dependencies
Resolving dependencies... <span class="o">(</span>6.4s<span class="o">)</span>

Writing lock file

Package operations: 8 installs, 0 updates, 0 removals

  • Installing pyparsing <span class="o">(</span>2.4.7<span class="o">)</span>
  • Installing attrs <span class="o">(</span>20.3.0<span class="o">)</span>
  • Installing more-itertools <span class="o">(</span>8.7.0<span class="o">)</span>
  • Installing packaging <span class="o">(</span>20.9<span class="o">)</span>
  • Installing pluggy <span class="o">(</span>0.13.1<span class="o">)</span>
  • Installing py <span class="o">(</span>1.10.0<span class="o">)</span>
  • Installing wcwidth <span class="o">(</span>0.2.5<span class="o">)</span>
  • Installing pytest <span class="o">(</span>5.4.3<span class="o">)</span>

Installing the current project: summarize_dataframe <span class="o">(</span>0.1.0<span class="o">)</span>
</code></pre></div></div>

<p>Firstly the virtual environment is created and stored outside of the project. A bit similar to what we have when using <a href="https://docs.conda.io/en/latest/"><code class="language-plaintext highlighter-rouge">conda</code></a>. Indeed, Instead of creating a folder containing your dependency libraries (as <a href="https://pypi.org/project/virtualenv/"><code class="language-plaintext highlighter-rouge">virtualenv</code></a> does), <code class="language-plaintext highlighter-rouge">poetry</code> creates an environment on a global system path (<code class="language-plaintext highlighter-rouge">.cache/</code> by default). This separation of concerns allows keeping your project away from dependency source code.</p>

<blockquote>
  <p>Note: You can create your virtual environment inside your project or in any other directories. For that you need to edit the configuration of poetry. Follow this <a href="https://python-poetry.org/docs/configuration/">documentation</a> for more details.</p>
</blockquote>

<p>Secondly, <code class="language-plaintext highlighter-rouge">poetry</code> is going to read the <code class="language-plaintext highlighter-rouge">pyproject.toml</code> and install all dependencies specified in this file. If not defined, poetry will download the last version of the packages. At the end of the operation, a <code class="language-plaintext highlighter-rouge">poetry.lock</code> file is created. It contains all packages and their exact versions. Keep in mind that if a <code class="language-plaintext highlighter-rouge">poetry.lock</code> file is already present, the version numbers defined in it take precedence over what is defined in the <code class="language-plaintext highlighter-rouge">pyproject.toml</code>. Finally, you should commit the <code class="language-plaintext highlighter-rouge">poetry.lock</code> file to your project repository so that all collaborators working on the project use the same versions of dependencies.</p>

<p>Now let’s activate the environment we just created with the following command:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>peotry shell
Spawning shell within ~/.cache/pypoetry/virtualenvs/summarize-dataframe-SO-g_7pj-py3.8
<span class="nb">.</span> ~/.cache/pypoetry/virtualenvs/summarize-dataframe-SO-g_7pj-py3.8/bin/activate
</code></pre></div></div>

<p>The command creates a child process that inherits from the parent Shell but will not alter its environment. It encapsulates and restrict any modifications you will perform to your project environment.</p>

<h3 id="create-our-git-repository">Create our <code class="language-plaintext highlighter-rouge">git</code> repository</h3>

<p>For our last step here we are going to create a git repository, add <code class="language-plaintext highlighter-rouge">README.md</code> and <code class="language-plaintext highlighter-rouge">.gitignore</code> files and push everything to our <a href="https://github.com/fbraza/summarize_dataframe">remote repository</a>.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git init
git remote add origin https://github.com/fbraza/summarize_dataframe.git
<span class="nb">echo</span> <span class="s2">".*</span><span class="se">\n</span><span class="s2">!.gitignore"</span> <span class="o">&gt;</span> .gitignore
<span class="nb">echo</span> <span class="s2">"# Summarize dataframe"</span> <span class="o">&gt;</span> README.md
git add <span class="nb">.</span>
git commit <span class="nt">-m</span> <span class="s2">"build: first commit. Environment built"</span>
git push <span class="nt">-u</span> origin master
</code></pre></div></div>

<h2 id="conclusion">Conclusion</h2>

<p>Herein we have seen how to install and manage different versions of Python on our machine using <code class="language-plaintext highlighter-rouge">pyenv</code>. We demonstrated how to leverage <code class="language-plaintext highlighter-rouge">pyenv local</code> to set a specific Python version in your project and then create a virtual environment using <code class="language-plaintext highlighter-rouge">poetry</code>. The use of <code class="language-plaintext highlighter-rouge">poetry</code> really smoothens the process of creation by proposing a simple and widely project scaffold. In addition, it includes the minimum build system requirements as defined by <a href="https://www.python.org/dev/peps/pep-0518/">PEP 518</a>.</p>

<p>In our next article, we are going to dive more into our project. We will write some code  with their respective unit tests and see how we can use <code class="language-plaintext highlighter-rouge">poetry</code> to add the expected dependencies and run the tests. Finally, we are going to go a bit further and install all necessary dependencies with <code class="language-plaintext highlighter-rouge">poetry</code> to help us enforcing good practices with our <code class="language-plaintext highlighter-rouge">git</code> commits when using a Python project.</p>

<h2 id="cheat-sheet">Cheat sheet</h2>

<h3 id="pyenv"><code class="language-plaintext highlighter-rouge">pyenv</code></h3>

<ul>
  <li>
    <p>Get all available and installable versions of Python</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  pyenv <span class="nb">install</span> <span class="nt">--list</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Set the global Python version</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> pyenv global &lt;version_id&gt;
</code></pre></div>    </div>
  </li>
  <li>
    <p>Set a local Python version</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  pyenv <span class="nb">local</span> &lt;version_id&gt;
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="poetry"><code class="language-plaintext highlighter-rouge">poetry</code></h3>

<ul>
  <li>
    <p>Create a project</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  poetry new &lt;project_name&gt;
</code></pre></div>    </div>
  </li>
  <li>
    <p>Install core dependencies and create environment</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  poetry <span class="nb">install</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Activate environment</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  poetry shell
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="acknowledgments">Acknowledgments</h2>

<p>This article was first published in Adaltas <a href="https://www.adaltas.com/en/articles/">blog</a> and kindly reviewed by the CEO David Worms and one consultant Barthelemy NGOM.</p>

  </div><!-- from https://github.com/utterance/utterances -->
<script src="https://utteranc.es/client.js"
        repo="fbraza/BrazLog"
        issue-term="title"
        label="blogpost-comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script><a class="u-url" href="/BrazLog/python/devops/2021/06/09/modern-python-part1.html" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/BrazLog/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/BrazLog/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/BrazLog/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>Python · Scala · BigData · System Design · Data Engineering</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/fbraza" title="fbraza"><svg class="svg-icon grey"><use xlink:href="/BrazLog/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a rel="me" href="https://twitter.com/%40braza_faouzi" title="@braza_faouzi"><svg class="svg-icon grey"><use xlink:href="/BrazLog/assets/minima-social-icons.svg#twitter"></use></svg></a></li></ul>
</div>

  </div>

</footer>
</body>

</html>
